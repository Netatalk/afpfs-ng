.Dd December 15, 2025
.Dt MOUNT_AFPFS 1
.Os
.Sh NAME
.Nm mount_afpfs
.Nd mount an Apple Filing Protocol (AFP) filesystem using FUSE
.Sh SYNOPSIS
.Nm
.Op Fl o Ar options
.Ar afp_url
.Ar mountpoint
.Sh DESCRIPTION
The
.Nm
command is used to mount an AFP volume in the format
.Sm off
.Ar afp:// Oo Ar user Oo ; No AUTH= Ar uamname Oc Oo : Ar password Oc @ Oc Ar host Oo : Ar port Oc / Ar volumename
.Sm on
at the designated
.Ar mountpoint .
.Pp
This command is a symlink to the
.Xr afp_client 1
executable, which is a full implementation to mount AFP volumes using
the FUSE infrastructure.
It communicates with
.Xr afpfsd 1
, a daemon that manages AFP sessions.
.Pp
In order to mount multiple AFP volumes simultaneously, the
.Xr afp_client 1
talks to a per-user manager daemon (afpfsd in manager mode), which
spawns a dedicated afpfsd daemon for each mount request.
.Pp
The arguments and options are:
.Bl -tag -width Ds
.It Fl o Ar options
Options passed to
.Xr mount 2
are specified with the
.Fl o
option followed by a comma separated string of options.
See the
.Xr mount 8
man page for possible options and their meanings.
Additional options
supported by the AFP Client are as follows:
.Bl -tag -width Ds
.It Cm volpass Ns = Ns Ar password
Set the volume password (since there is no facility for that in an AFP URL).
.It Cm rw
Mount the volume as writeable.
This is the default.
.It Cm ro
Mount the volume as readonly.
.It Cm group Ns = Ns Ar groupname
Mount the volume as
.Ar groupname .
.It Cm user Ns = Ns Ar username
Mount the volume as
.Ar username .
.El
.It Ar afp_url
The AFP URL to mount, in the format:
.Pp
.Sm off
.Dl afp:// Oo Ar user Oo ; No AUTH= Ar uamname Oc Oo : Ar password Oc @ Oc Ar host Oo : Ar port Oc / Ar volume
.Sm on
.Pp
Specifies the AFP server and sharepoint to be mounted.
It can also include the username and password needed for authentication.
The
.Ar uamname
parameter represents the authentication method's full name or shorthand.
If no port is provided, the default port 548 is used.
.It Ar mountpoint
The path to the mount point, which must be a directory where the user
has write permissions.
.El
.Sh EXAMPLES
The following example demonstrates how to mount the AFP volume
fileserver.example.net/sharedDocs/ at the mount point /mnt/shared
and getting prompted for the password for user user123:
.Bd -literal -offset indent
mkdir /mnt/shared
mount_afpfs afp://user123:-@fileserver.example.net/sharedDocs/ /mnt/shared
.Ed
.Pp
This example shows the correct URL format for mounting the volume Public Data
from the AFP server backupserver as a guest user:
.Bd -literal -offset indent
mkdir /mnt/public
mount_afpfs "afp://;AUTH=No User Authent@backupserver/Public Data" /mnt/public
.Ed
.Pp
.Em Note :
The afp URL must be enclosed in quotes to prevent the shell from
misinterpreting the spaces.
.Pp
The following illustrates how to use a username of "john.doe"
and a password of "p@ssw0rd!" to mount fileshare from datahub.local
at the mount point /mnt/files:
.Bd -literal -offset indent
mkdir /mnt/files
mount_afpfs afp://john.doe:p@@ssw0rd!@datahub.local/fileshare/ /mnt/files
.Ed
.Sh EXIT STATUS
.Ex -std
.Sh SEE ALSO
.Xr afp_client 1 ,
.Xr afpfsd 1
