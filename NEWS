What is new in afpfs-ng-0.9.3, February 8, 2026
-----------------------------------------------

1. Stateless client library

The stateless client library (libafpsl.so) together with the stateless client daemon (afpsld)
have been (re)introduced and thoroughly reworked to provide a more robust and efficient way
to interact with AFP servers without maintaining a persistent connection.

The stateless client daemon has gotten a unique name (afpsld) to allow it to coexist
with the FUSE client daemon (afpfsd), while removing all FUSE client specific code and dependencies
from the former.

2. afpcmd client improvements

The afpcmd client has been reworked to use the new stateless client library and daemon,
rather than calling the midlevel API directly.  This allows for better error handling and stability,
and also turns afpcmd into a reference implementation and showcase for the stateless client library.

Implemented password changing with all UAMs that support it, using the previously ineffective 'pass' command.

Two way batch file transfers from the command line.

Introduced support for password protected volumes.

Introduced verbose mode with -V or --verbose that prints detailed information about file transfers,
while adding a summary of the transfer at the end.

Removed the ineffecual 'user' command for changing the user on the fly.

Removed "synonyms" for commands (e.g. 'del' for 'rm') to reduce the clutter and complexity of the command set.

3. FUSE client improvements

Added support for libfuse 2.9 with older versions of macFUSE / OSXFUSE on macOS (although not fully tested).

Made the client sensitive to loglevels set by the afpfsd manager daemon.

Remapped afp_client volpass option from -V to -P to avoid overlap with the new verbose mode in afpcmd.

4. library improvements

Fixed bug that prevented the use of 8 char passwords with the Randnum UAMs.

Scrub all passwords from memory immediately after use.

Fallback to guest (nobody) auth if no credentials are provided, and the server allows guest access.

Full implementation of Precomposed UTF8 to Decomposed UTF8 conversion.

Changed the UAM shorthand for 2-Way Randnum from '2wayrandnum' to 'randnum2'.

Removed unused GNU GMP and ncurses dependencies.

Many memory safety and reliability improvements.


What is new in afpfs-ng-0.9.2, January 14, 2026
-----------------------------------------------

1. FUSE client improvements

Rearchitectured to a one afpfsd process per mount model for better stability and performance:
Launch the manager afpfsd process with 'afpfsd --manager' and mount daemons with 'afpfsd --socket-id <path>'.
As before, mount_afpfs or afp_client will launch all daemons automatically.
This also enables multiple mounts on macOS with macFUSE which was not possible before.

Server connection suspend and resume support in afp_client.

Can now set log level and log type (syslog/stdout) for the FUSE client.

macOS Finder xattr support for custom icons and other metadata (requires macFUSE v5.1.3 or later).

2. afpcmd client improvements

Added a new 'exit' command that detaches from the current volume and returns to the list of volumes.

When in volume selection mode, use the 'ls' command to list available volumes on the server.

Made the 'chmod' command work properly.

Can now set log level for the afpcmd client (always logs to syslog).

3. AFP protocol compliance

AFP 3.2 Extended Attributes (xattr) support

AFP 3.3 Replay Cache support

AFP 3.4 compliant xattr error handling

Implemented FPEnumerateExt (command 66) for AFP 3.0

4. General improvements

Removed obsolete workarounds for 20 year old netatalk bugs.

Proper support for long UTF-8 volume names in all clients.

Introduced UAM shorthands for easier use: clrtxt, randnum, dhx2, dhx, etc.

Converted man pages to mdoc format.

We now install development files (headers, pkg-config) for libafpclient with meson.


What is new in afpfs-ng-0.9.1, December 7, 2025
-----------------------------------------------

1. FUSE client improvements

Support for FUSE 3.0+ on Linux and FreeBSD, and macFUSE on macOS,
while maintaining compatibility with FUSE 2.9.9.

Implemented FUSE commands for create, flush, chown, truncate, and rename.

Enabled multi threaded FUSE operation handling for better performance and stability,
while introducing better thread safety across the board.

Volume name labels and proper volume creation time support in macFUSE.

On FreeBSD, afpfsd can now be started on the fly by the mount_afpfs tool.

Numerous bug fixes and stability improvements.

2. afpcmd client improvements

Introduced a new copy (cp) command for file transfers on the AFP volume.

Shored up error handling for the cd, mv, put, and touch commands.

Now mapping error codes to human readable strings for better user feedback.

Fixed bug with 8 char passwords when using Cleartxt Password UAM.

The dir/ls command now takes an optional dir to list instead of the current directory.

3. Meson build system enhancements

Support for libedit alongside readline for afpcmd builds,
commonly used on Alpine Linux and elsewhere.

Always build afpgetstatus tool even without ncurses/readline.

Fail the build if neither afpcmd nor the FUSE client can be built.

4. Miscellaneous improvements

Introduced stylistic coding standards for C, Meson, Markdown, YAML, and shell script code.
The new codefmt.sh script can be used to automatically format code.

Fix all security and reliability bugs reported by SonarQube static analysis.

Now also compiling and running on NetBSD (FUSE only) and OpenBSD (afpcmd only).


What is new in afpfs-ng-0.9.0, February 9, 2025
-----------------------------------------------

1. FUSE client improvements

Support for FUSE 2.99 on Linux, and macFUSE on macOS.

Shore up error handling and memory synchronization to avoid deadlocks.

Rename mount_afp to mount_afpfs to avoid name conflict with the native
macOS AFP client.

The ability to pass mount options to FUSE with -O is now supported,
amongst other patches contributed by R.J.V. Bertin.

2. afpgetstatus improvements

Support for IPv6 addresses. Print much more information on the AFP server.

Introduce a -i flag to print the server's icon and icon mask.

3. Meson build system

Autotools has been replaced by Meson. Configure and builds are much faster.
Extra debug output is now controlled at compile time with -Dbuildtype=debug.
If you want to build without debug output, use -Dbuildtype=release.

4. Code quality

Consolidation and refactoring of the code. Numerous bug fixes.
Code compiles cleanly without warnings on supported platforms now.


What is new in afpfs-ng-0.8.2, March 11, 2013
---------------------------------------------

1. IPv6 support

The networking code has been updated to use getaddrinfo(). If a hostname is
provided in the URL, libafpclient will try to connect to every address in
the order in which they are returned, until a successful connection is made.

The URL parser supports ipv6 litterals (e.g. afp://[2001:db8::cafe]:548/Movies)

2. A ton of bug fixes.

This release includes all the patches collected by XBMC (http://xbmc.org/)
plus some more written by me.
Thanks to everyone who contributed to this project!

These patches have already been applied to the source and can be found in
afpfs-ng-0.8.2/patches/


What is new in afpfs-ng-0.8.1, March 8, 2008
--------------------------------------------

1. Read only support

You can mount volumes readonly with:
mount_afp -o ro afp://username:password@hostname/volumename /mountpoint

Per request from various people.

2. @ and : in passwords and usernames

For one @ in a password, use:
p@@ssword

For one : in a username, use:
user::name

Per request from Niclas Helbro.

3. Fstab

You can now automatically mount volumes in on boot with a line in fstab. 
See docs/README, there are some simple but specific instructions.


What is new in afpfs-ng-0.8, February 18, 2008
----------------------------------------------

1. New command line (non-FUSE) tools:

a) batch mode of afpcmd

This lets you do simple transfers, eg. 

> afpcmd afp://user:pass@server/alexdevries/linux-2.6.14.tar.bz2
Connected to server Cubalibre using UAM "DHX2"
Connected to volume alexdevries
    Getting file /linux-2.6.14.tar.bz2
Transferred 39172170 bytes in 2.862 seconds. (13687 kB/s)

b) interactive mode of afpcmd

This is file transfer tool similiar to an ftp client.  Has (local) filename 
completion and command history.

c) get status tool, afpgetstatus

A simple tool to get the status information of a server without logging in.


2. FUSE client improvements

Continuation of FUSE client development, including the introduction of a new tool
called mount_afp, which has the same syntax as in Mac OS X.  Better status and 
post-deployment debugging, proper forced or unforced exit and other bugs.


3. Protocol fixes

Many protocol enhancements and bug fixes, including: support for AFP 2.x, multiple 
servers, session keys, signatures, meta information, chmod and chown fixes.  
Tested against Mac OS X, OS9, Airport and netatalk.

File transfer performance is now similiar or faster to Mac OS X.


4. Development library

The source code of afpfs-ng has now been changed to a library (libafpclient) and
support for multiple clients (examples are FUSE, afpcmd, afpgetstatus).  With this
library, more AFP clients (GIO, KIO) can be built with limited pain.  This API is
not yet stabilized.

5. Other

FUSE client fully validated on Linux, builds on FreeBSD.
Command line client builds and runs on Linux, runs but is weakly tested on FreeBSD 
and Mac OS X.

There are manpages.


What is new in afpfs-ng-0.4.3, September 8, 2007
------------------------------------------------

New features in this release include:

- UTF8 internationalization of filenames, volumes and servers, mostly written by Michael Ulbrich

- proper uid/gid mapping to enable environments with a common or different user directory

- DHX2 UAM from Derrik Pates

- fixes to deal with the Apple Airport Extreme quirks

- fixes to deal with netatalk quirks

- improved status output for debugging

- various small bug fixes (Paul Borman, Volker Grabsch)


This is the last release before a rework that introduces libafpclient to 
handle multiple clients.

You can get afpfs-ng from http://afpfs-ng.sourceforge.net .







What is new in afpfs-0.4, Feburary 11, 2007
-------------------------------------------

We're happy to release version 0.4 of afpfs-ng, the Apple Filing Protocol client
for Linux with FUSE.

New features include:

- stability: afpfs-ng is reliable to the point of being usable for all but
  the most strenuous IO loads

- encrypted authentication mechanisms: now also supporting Randnum, 2-way
  randnum, DHCAST128 and DHX2

- performance: DID caching, enhanced DSI packet processing and other
  improvements make afpfs-ng about half as fast as the Mac OS X client

- ease of use: unmounting, SIGINT, easier logging, easier startup, better
  docs, session suspension

For more information and to download, see http://afpfs-ng.sf.net/.




What is new in 0.3, Nov. 27, 2006
---------------------------------
* many, many memory leaks fixed with some help from valgrind and close inspection
* fixed many segfaults from null pointer dereferencing
* heap corruption fixed
* server version matching works now (afpfs-ng speaks 3.2 by default)
* more testing against 10.2, 10.3 and 10.4 and netatalk
* some documentation
* preliminary support for resource forks (although this is still incomplete and broken) 

0.2 had a lot of problems with stability, mostly because of the complex and optimized DSI read code, which does zero-copy reads and handles quantums properly. This appears to be fixed now.

Please, if you've tried afpfs-ng, let me know.  You can subscribe to the mailing list at http://sourceforge.net/projects/afpfs-ng, or mail me at alexthepuffin@gmail.com.


What is new in 0.2, Nov. 20, 2006
---------------------------------

In version 0.2, the project has matured considerably.  You can mount a volume,
see, read and write files with reasonable performance.

* much better testing against 10.3 and 10.4 (speaking AFP 3.1, not 3.2)
* better error handling
* restructured into client/server
* rewrote incoming reads to optimize for read performance.  It works!
* lots and lots of other changes
  - fixed rename, large dids, UTF8 names
* dynamic quantum calculation
* status
* new logging mechanism, forking
* autoconf (sigh)


What is new in 0.1, Oct. 16, 2006
---------------------------------
* it compiles
* it has worked for me, but probably nobody else
